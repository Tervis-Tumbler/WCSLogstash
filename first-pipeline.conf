input {
    file {
        path => "/home/cmagnuson/Documents/logs/autoShipMgr.sample"
        start_position => beginning
	sincedb_path => "/dev/null"
	codec => multiline {
        	pattern => "\A--Time-- %{BASE10NUM:UnixDateTimeOfEvent} - %{DATESTAMP:DateTimeOfEvent}"
	        negate => true
	        what => "previous"
	}
    }
}
filter {
	#multiline {
        #        pattern => "\A--Time-- %{BASE10NUM:UnixDateTimeOfEvent} - %{DATESTAMP:DateTimeOfEvent}"
        #        negate => true
        #        what => "previous"
        #}

	grok { 
		break_on_match => false
		match => { "message" => "(?m)(?<shiprequest><SHIPMENTREQUEST>(.|\n|\r)*<\/SHIPMENTREQUEST>)" }
		match => { "message" => "\A--Time-- %{BASE10NUM:UnixDateTimeOfEvent} - %{DATESTAMP:DateTimeOfEvent}" }
		#match => { "message" => "%{GREEDYDATA:message3}" }
	}
	date {
		match => [ "UnixDateTimeOfEvent", "UNIX" ]
		timezone => "Etc/GMT"
	}
}
output {
	stdout { codec => rubydebug }
}
